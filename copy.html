<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>copy</title>
    <style>
        body{
            background:#ccc;
            width:100%;
            height:1000%;
            position: absolute;
        }
    </style>
</head>
<body>
    <script>
        function Webcopy(){
            var input = document.createElement("input"), callback;
            var styles = {
                position:"fixed",
                border: 'none',
                top:0,
                height: 0,
                margin: 0,
                padding: 0
            }
            for(var key in styles){
                input.style[key] = styles[key];
            }
            document.body.appendChild(input);
            // input.onfocus = function(event){
            //     event.preventDefault();
            // }
            var action = function(){
                if(input.value){
                    input.focus();
                    input.setSelectionRange(0, input.value.length);
                    var copied = document.execCommand('Copy');
                    if(copied){
                        callback && callback(input.value);
                    }
                    input.blur();
                }
            }
            document.body.addEventListener('click', function(event){
                action();
            }, true);
            return function(string, fn){
                input.value = string;
                callback = fn
                action();
            }
        }

        var webcopy = new Webcopy();
        webcopy('zengfanxing', function(str){
            alert(str);
        });
    </script>
</body>
</html>